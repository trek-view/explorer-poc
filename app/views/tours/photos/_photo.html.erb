<div class="card photo-card h-100">
  <%= render(ViewpointComponent, viewpoint: photo.favoritable_score.present? ? photo.favoritable_score[:favorite] : 0, photo_id: photo.id) %>
  <a class="photo-card-link" href="<%= (photo_link if defined? photo_link) || photo_path(photo) %>">
    <img class="card-img-top" src="<%= photo_thumb_url(photo) %>" alt="" />
    <div class="card-body">
      <p class="card-text">Latitude: <%= photo.latitude %></p>
      <p class="card-text">Longitude: <%= photo.longitude %></p>
      <p class="card-text">Photo elevation: <%= photo.elevation_meters %>m</p>
      <p class="card-text">Capture time: <%= photo.taken_at.to_formatted_s(:db) %></p>
    </div>
    <div class="card-footer">
      <small class="text-muted">
        uploaded by: 
        <% if owner?(photo.tour.user.id) %>
          <%= link_to photo.tour.user.try(:name), edit_user_registration_path(photo.tour.user) %>
        <% else %>
          <%= photo.tour.user.name %>
        <% end %>
      </small>
    </div>
  </a>
</div>
