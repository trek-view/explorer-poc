<div class="photo-container row">
  <div class="py-5 col-lg-12">
    <div class="card">
      <div class="card-header">
        <%= render(ViewpointComponent, viewpoint: @photo.favoritable_score.present? ? @photo.favoritable_score[:favorite] : 0, photo_id: @photo.id) %>
        <div id="panorama"></div>
      </div>
      <div class="card-body">

        <table class="table table-response table-bordered photo-attributes-table">
          <thead>
            <th>Attribute</th>
            <th>Value</th>
          </thead>
          <tbody>
            <tr>
              <td>Tour</td>
              <td><%= link_to @photo.tour.name, user_tour_path(@photo.tour.user, @photo.tour) %></td>
            </tr>
            <tr>
              <td>Explorer Photo ID</td>
              <td><%= @photo.id %></td>
            </tr>
            <tr>
              <td>Filename</td>
              <td><%= "#{@photo.filename}" %></td>
            </tr>
            <tr>
              <td>Capture time</td>
              <td><%= @photo.taken_at.to_formatted_s(:db) %></td>
            </tr>
            <tr>
              <td>Latitude</td>
              <td><%= "#{@photo.latitude}" %></td>
            </tr>
            <tr>
              <td>Longitude</td>
              <td><%= @photo.longitude %></td>
            </tr>
            <tr>
              <td>Elevation</td>
              <td><%= @photo.elevation_meters %>m</td>
            </tr>
            <tr>
              <td>Photo Country</td>
              <td><%= @photo.address['country_code'] %></td>
            </tr>
            <tr>
              <td>Google Plus Code</td>
              <td><%= @photo['google']['plus_code_global_code'] %></td>
            </tr>
            <tr>
              <td>Camera make</td>
              <td><%= @photo.camera_make %></td>
            </tr>
            <tr>
              <td>Camera model</td>
              <td><%= @photo.camera_model %></td>
            </tr>
            <tr>
              <td>Tourer Connected photos</td>
              <% if @photo.tourer_connection_photos.present? %>
                <td>
                  <% @photo.tourer_connection_photos.each do |photo_id| %>
                    <%= link_to photo_id, "#{@s3_bucket_url}#{photo_id}", target: "_blank" %>
                  <% end %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td>View on Google Street View</td>
              <% if @photo['streetview']['share_link'] %>
                <td><%= link_to @photo['streetview']['share_link'], @photo['streetview']['share_link'], target: "_blank" %></td>
              <% end %>
            </tr>
            <tr>
              <td>OpenTrailView photo id</td>
              <td><%= @photo.opentrailview['photo_id'] %></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
